$(function(){var g={$container:$("#content"),_pageStack:[],_configs:[],_defaultPage:null,_isGo:!1,rewardEvent:["\u90a3\u5e74\uff0c\u621118\u5c81","\u56fd\u5bb6\u52b1\u5fd7\u5956\u5b66\u91d1\uff0c\u6821\u4e09\u597d\u5b66\u751f.<br/>\u6210\u7ee9\u73ed\u7ea7\u667a\u80b2\u7b2c\u4e8c\uff0c\u7efc\u5408\u7b2c\u4e09.<br/>",'\u300a\u57fa\u4e8e\u654f\u611f\u5143\u7d20\u89c6\u9891\u68c0\u7d22\u7cfb\u7edf\u300b\uff0c\u83b7\u8f6f\u8457\u6743\uff0c\u7b2c\u4e8c\u4f5c\u8005.<br/>\u81ea\u5236\u7f51\u9875\u5c0f\u6e38\u620f\u300a\u7acb\u65b9\u4f53\u300b\u83b7"\u9e23\u6708\u4fe1\u6b65\u676f"\u7f51\u9875\u8bbe\u8ba1\u5927\u8d5b\u7b2c2\u540d.<br/>',
    "\u63a5\u89e6headFirst\u5e76\u5b9e\u4e60\u5de5\u4f5c\u5df210\u4e2a\u6708<br/>\u65b0\u7684\u8d77\u70b9\uff0c\u65b0\u7684\u52aa\u529b~fight\uff01"],default:function(b){this._defaultPage=b;return this},init:function(){function b(){var b=0===location.hash.indexOf("#")?location.hash:"#",b=a._find("url",b)||a._find("name",a._defaultPage);switch(b.name){case "home":a.$fixBtn.show();break;case "info":$("#info_btn").addClass("info_grid_round").show();break;case "personSkill":$("#skill_btn").addClass("info_grid_round").show();
    break;case "reward":$("#reward_btn").addClass("info_grid_round").show();break;case "experience":$("#experience_btn").addClass("info_grid_round").show()}a.go(b.name,!0)}var a=this;a.$fixBtn=$("#fixbtn .home_grid");$(window).on("hashchange",function(d){d=!a._isGo;a._isGo=!1;if(d){d=0===location.hash.indexOf("#")?location.hash:"#";for(var c=null,e=0,f=a._pageStack.length;e<f;e++){var g=a._pageStack[e];if(g.config.url===d){c=g;break}}c?a.back():b()}});$("#fixbtn").on("click",".home_grid:not(.info_grid_round)",
    function(){var b=$(this),c=b.data("id");b.addClass("info_grid_round");b.siblings().hide();a.go(c,!1,b)}).on("click",".home_grid.info_grid_round",function(){window.history.go(-1)});b();return this},push:function(b){this._configs.push(b);return this},go:function(b,a,d){var c=this._find("name",b);if(c){var e=$(c.template).html();if(a)b=$(e);else{var f=this._pageStack[this._pageStack.length-1];a=$(".container");switch(b){case "info":f.dom.removeClass("slideDownIn").addClass("slideDownOut");b=$(e).addClass("slideUpIn").addClass(c.name);
    a.css("background-position-y","-100px");break;case "personSkill":f.dom.removeClass("slideLeftIn").addClass("slideLeftOut");b=$(e).addClass("slideRightIn").addClass(c.name);a.css("background-position-x","-300px");break;case "experience":f.dom.removeClass("slideUpIn").addClass("slideUpOut");b=$(e).addClass("slideDownIn").addClass(c.name);a.css("background-position-y","0");break;case "reward":f.dom.removeClass("slideRightIn").addClass("slideRightOut");b=$(e).addClass("slideLeftIn").addClass(c.name).one("animationend",
    function(){$(".nav-item").eq(2).addClass("addScale");$("#myLine").css("height","7.3rem");$("#myRound").css("top","7.3rem")}).one("webkitAnimationEnd",function(){$(".nav-item").eq(2).addClass("addScale");$("#myLine").css("height","7.3rem");$("#myRound").css("top","7.3rem")});a.css("background-position-x","-100px");break;default:f.dom.removeClass("slideLeftIn").addClass("slideLeftOut"),b=$(e).addClass("slideRightIn").addClass(c.name),a.css("background-position-x","-300px"),d.hide()}d.siblings().hide()}this.$container.append(b);
    this._pageStack.push({config:c,dom:b});this._isGo=!0;location.hash=c.url;c.isBind||this._bind(c);return this}},back:function(){var b=this._pageStack.pop();if(b){var a="",d="",c="",e="";switch(b.config.name){case "info":a="slideDownIn";d="slideDownOut";c="slideUpOut";e="slideUpIn";break;case "personSkill":a="slideLeftIn";d="slideLeftOut";c="slideRightOut";e="slideRightIn";break;case "reward":a="slideRightIn";d="slideRightOut";c="slideLeftOut";e="slideLeftIn";break;case "experience":a="slideUpIn";d=
    "slideUpOut";c="slideDownOut";e="slideDownIn";break;default:a="slideLeftIn",d="slideLeftOut",c="slideRightOut",e="slideRightIn"}var f=this._pageStack[this._pageStack.length-1];f.dom.removeClass(d).addClass(a).on("animationend",function(){f.dom.removeClass(a)}).on("webkitAnimationEnd",function(){f.dom.removeClass(a)});this.$fixBtn.removeClass("info_grid_round");b.dom.removeClass(e).addClass(c).on("animationend",function(){$(this).remove()}).on("webkitAnimationEnd",function(){$(this).remove()});$(".container").css({"background-position-x":"-200px",
    "background-position-y":"-50px"});this.$fixBtn.show();return this}},PxToNum:function(b){return $.trim(b).replace(/px/g,"")-0},_find:function(b,a){for(var d=null,c=0,e=this._configs.length;c<e;c++)if(this._configs[c][b]===a){d=this._configs[c];break}return d},_bind:function(b){var a=b.events||{},d;for(d in a)for(var c in a[d])this.$container.on(c,d,a[d][c]);b.isBind=!0}};g.push({name:"home",url:"#",template:"#tpl_home",events:{}}).push({name:"personSkill",url:"#personSkill",template:"#tpl_personSkill",
    events:{".skillItem":{click:function(b){var a=$(this);a.hasClass("turn")||(a.addClass("turn"),setTimeout(function(){a.removeClass("turn")},2E3))}}}}).push({name:"info",url:"#info",template:"#tpl_info",events:{}}).push({name:"reward",url:"#reward",template:"#tpl_reward",events:{".nav-item":{click:function(b){var a=$(this);a.closest(".left-nav").data("lock")||(a.closest(".left-nav").data("lock",1),a.addClass("addScale").siblings().removeClass("addScale"),$("#myLine").css("height",3+2.65*a.index()+"rem"),
    $("#myRound").css("top",3+2.65*a.index()+"rem"),$("#eventContent").html(g.rewardEvent[a.index()]),setTimeout(function(){a.closest(".left-nav").data("lock",0)},600))}}}}).push({name:"experience",url:"#experience",template:"#tpl_experience",events:{".EPage-item":{click:function(b){var a=$(".exp-container");if(a.data("done")){a.data("done",0);b=$(".EPage-item");var d=b.length,c=b.eq(d-1).clone();c.removeClass("item"+d).addClass("item0");$(".exp-container").prepend(c);setTimeout(function(){$(".EPage-item").eq(0).removeClass("item0").addClass("item1")},
    10);b.each(function(a,b){$(this).removeClass("item"+(a+1)).addClass("item"+(a+2))});b.eq(d-1).on("animationend",function(){$(this).remove();a.data("done",1)}).on("webkitAnimationEnd",function(){$(this).remove();a.data("done",1)})}}}}}).push({name:"demo",url:"#demo",template:"#tpl_demo",events:{}}).default("home").init()});